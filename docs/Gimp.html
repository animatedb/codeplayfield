<html>
<head>
  <link rel="stylesheet" href="Docs.css">
</head>

<body>
<h1>Gimp</h1>
<p>
Gimp allows editing images.
</p>
Gimp was used to change the following image.
<br><img src="../fields/game/doll-data/Girl/girl3.png" width="80"><br>
Into:
<br><img src="../fields/game/doll-data/Girl-Jump/girlj1.png" width="80"><br>
Gimp was used to combine the following images.
<br><img src="../fields/game/airport-data/airport-1000x600.jpg" width="200"><br>
<br><img src="images/BoyWalking.jpeg" width="60"><br>
Remove the boy background and add to the airport:
<br><img src="images/BoyWalkingTransSmall.png" width="40"><br>
<br><img src="images/AirportWithBoy.jpg" width="200"><br>


<h2><a name="installgimp">Install Gimp</a></h2>
For Windows:<br/>
<a href="https://www.gimp.org/downloads/">https://www.gimp.org/downloads/</a>
<p>
For Ubuntu:<br/>
Install Gimp using Synaptic or command line.<br/>
</p>
<p>
<pre><code>
  sudo apt-get install gimp
</code></pre>

For some types of images, the following may be needed to install 
Ubuntu Restricted Extras using Synaptic. Select Settings/Repositories.
Then select "Software restricted by copyright or legal issues(multiverse)".
Search for "ubuntu-restricted-extras" and select it. Then Apply.
<br>Use command line:
<pre><code>
  sudo add-apt-repository multiverse
  sudo apt install ubuntu-restricted-extras
</code></pre>
</p>


<h2><a name="editimage">Edit Image</a></h2>
Open an image file in <a href="#opengimp">Gimp</a>.<br/>
Vector images can be edited using <a href="Inkscape.html">Inkscape</a>.<br>
<a href="Images.html">Image Explanation</a><br/>
<p>
</p>

<h3><a name="opengimp">Open an Image</a></h3>
For Ubuntu:<br>
<ul>
  <li>Start Gimp using Activities and enter Gimp in the "Type to search box".</li>
  <li>If Gimp is not available, <a href="#installgimp">install Gimp</a></li>
</ul>
Use one of the following to open an image file (.jpg, .mp3, .mp4, .png, .webm, etc.).
<ul>
  <li>Select File/Open, then search for the image.</li>
  <li>If a folder is showing the image filename, press the mouse button down on the image,
  move the mouse to Gimp, and then release the mouse button.</li>
</ul>

<h3><a name="savegimp">Save an Image</a></h3>
To save an image, use menu File/Overwrite or File/Export As.
<p>
There are many file image formats. The most common for Gimp are jpg, png, gif.
Some take more disk space, and some look better. Try exporting as different formats
to see the differences.
</p>
<p>
If you want to keep the history of edits, or things like layers, then do Save or Save As
to save the .xcf file. This is a file that Gimp keeps to be able to start editing from
the previously performed edits. This file is not an image file that other programs can
read.
</p>

<h3>Change Image Size</h3>
<ul>
  <li><a href="#opengimp">Open a file in Gimp.</a></li>
  <li>Select Image/Scale Image</li>
  <li>Enter the width. The aspect ratio is preserved unless the chain link is clicked</li>
  <li><a href="#savegimp">Save the image file in Gimp.</a></li>
</ul>

<h3>Get Part of an Image</h3>
<ul>
  <li><a href="#opengimp">Open a file in Gimp.</a></li>
  <li>Select Tools/Selection Tools/Rectangle Select</li>
  <li>Select an area on the image by clicking at a location, pressing the mouse
    button down and moving the mouse, then releasing the button</li>
  <li>Select Image/Crop to Selection</li>
  <li><a href="#savegimp">Save the image file in Gimp.</a></li>
  <li>This shows that this dog head <img src="images/1-pets-cropped-dog.jpg"> was </li>
  from this image <img src="images/1-pets.jpg">
</ul>
</p>

<h3>Draw on an Image</h3>
<ul>
  <li><a href="#opengimp">Open a file in Gimp.</a></li>
  <li>Select Tools/Paint Tools to select Pencil, Paintbrush, Eraser or other tools.</li>
  <li>To select a color to paint, select Windows/Dockable Dialogs/Colors. Clicking
    on different colors will choose the color that will be used to draw on an image.</li>
  <li>Another very important tool for matching colors is to select Windows/Toolbox and
    pick the tool that looks like an eyedropper, to just use Tools/Color Picker. Then
    click on a point in the image.
    This is how the left eye winking dog was created
    <img src="images/1-pets-cropped-dog-wink.jpg">
    from this image.
    <img src="images/1-pets-cropped-dog.jpg">
    <br>Colors from parts around the eye were drawn in other pixels.
    </li>
  <li>Select Windows/Tool Options to choose how big the pencil or brush are.</li>
</ul>

<h3>Copy Part of Image</h3>
<ul>
<li>Zoom in to part of image to change using "Shift +" or "Shift -"</li>
<li>Use Tools/Selection Tools/Free Select or Fuzzy Select to select region</li>
<li>Select part of an image</li>
<li>Select menu Edit/Copy</li>
<li>Select menu Edit/Paste</li>
<li>Move the copy to the desired location.</li>
<li>Move the cursor outside of the selected area and click to anchor to the image</li>
</ul>

<h3>Rotate Part of Image</h3>
<ul>
<li>Zoom in to part of image to change using "Shift +" or "Shift -"</li>
<li>Use Tools/Selection Tools/Free Select or Fuzzy Select to select region</li>
<li>Select Tools/Transform Tools/Rotate</li>
<li>Enter an angle and click Rotate to apply it.</li>
<li>While it is still selected, click on the move icon on the left hand side of the window (4 arrows)</li>
<li>Move the selected area to the desired location.</li>
<li>Move the cursor outside of the selected area and click to anchor to the image</li>
</ul>

<h3>Layers</h3>
Layers can be used to work on parts of images. If the separate images are on
different layers, they can be selected and modified without modifying other images.
<p>
To keep the layers for editing in the future, the Gimp .xcf file must be saved.
</p>
<ul>
<li>Select an area, then select menu "Edit/Copy Visible"</li>
<li>Turn on the layer dialog using Windows/Dockable Dialogs/Layers"</li>
<li>Select menu "Edit/Paste As/New Layer In Place". This creates a new layer.</li>
<li>Clicking on the eyeballs of each layer shows what is on each layer in the main window.</li>
<li>Make some layers visible using eyeballs. Use Image/Merge Visible Layers or Select Layer/Merge Down.</li>
<li>Notice that selecting an area on one layer only selects what that layer contains.</li>
</ul>

<h2><a name="editvideogimp">Edit Video or Images with Gimp</a></h2>
Install <a href="#installgimp">"Gimp"</a> using Synaptic or command line.<br/>
<a href="Images.html">Image Explanation</a><br/>
<p></p>
Gimp can set the transparency of parts of the image. It can also remove frames when there are more
than what is needed.

<h3>Extract Frames</h3>
This shows how to manually extract frames. The frames can be also automatically
extracted using <a href="#editvideo">WinFF or ffmpeg</a>.
Sometimes Gimp will display an error about an unknown file type. One solution is to use
<a href="#editvideo">WinFF or ffmpeg</a>.
This example shows how the game/airport-data/BirdSource files were modified.
The source video was retrieved from https://www.pexels.com/search/videos/bird/.
<ul>
<li>Use Crop to get a limited time in the video.</li>
<li>Use Extract to see the frames/convert to jpg images.</li>
<li>Manually view and scroll through images to see where the good frames are.</li>
<li>Looks like starting at frame 62. A close ending frame is 103.</li>
<li>103-62=41.</li>
<li>Get 8 frames using 41/8= every 5th frame, so 62, 67, 72, 77, 82, 87, 92, 97</li>
</ul>

<h3>Add Transparency</h3>
Transparency can be added to any image or photograph. It is easiest if the image
has one background color.

<ul>
<li>Add transparency to bird using Gimp</li>
<ul>
	<li>Select menu Tools/Selection Tools/By Color Select</li>
	<li>Click on sky.</li>
	<li>Select Layer/Transparency/Add Alpha Channel</li>
	<li>Select Edit/Clear</li>
	<li>Select menu Tools/Selection Tools/Rectangle select and select small area around image.</li>
	<li>Select size using Tool Options dialog</li>
	<li>Select Image/Crop To Selection</li>
	<li>Select File/Export As, then save filename as bmp?</li>
	<li>Set name to bird-0062-trans.bmp</li>
	<li>Do above process for all images (Use Close View to restart)</li>
</ul>
<li>Add transparency to bug/spider</li>
<ul>
	<li>Use View/Zoom to make the image larger and easier to edit.</li>
	<li>Select Tools/Selection Tools and choose Rectangle Select, Fuzzy Select and
	By Color Select</li>
</ul>

</ul>

<h3>How to extract a person</h3>
This shows how BoyWalking.jpeg was converted.
<ul>
<li>Select a small area that includes the person.</li>
<li>Select menu Image/Crop To Selection. This reduces the image size from >100 KB to 40 kB.</li>
<li>Select menu Layer/Transparency/Add Alpha Channel</li>
<li>Select menu Tools/Selection Tools/By Color Select.</li>
<li>If some part of the image includes part of the boy that needs to be kept, 
use <a href="https://docs.gimp.org/en/gimp-using-selections-add.html">Add or Subtract Selections</a>
For example, if color select was done first, select the rectangle selection tool and press
the Ctrl key before making the rectangular selection around the area you would like to keep.</li>
<li>Click on a color and press the Delete key.</li>
</ul>

<h3>Clean up parts of an image</h3>
<a name="gimpclone"></a>
The Clone tool works well to blend patterns from one part of an image into another.
<ul>
<li>Select a brush from Windows/Dockable Dialogs/Brushes</li>
<li>Select the clone tool from Tools/Paint Tools/Clone</li>
<li>Use Ctrl and click on an area to copy from</li>
<li>Click or click and drag on the area to copy to</li>
</ul>

<h3>Square up image</h3>
Sometimes a picture taken by a camera will not have images that are rectangular,
and they should fit into a rectangular area.

<p>
A grid can be displayed using the following commands.
<ul>
	<li>View/Show Grid</li>
	<li>Image/Configure Grid</li>
</ul>
</p>
First delete the background so it will be easier to see what has moved.
<ul>
<li>Tools/Selection Tools/Free Select</li>
<li>Select/Invert</li>
<li>Press Delete key.</li>
<li>Image/Crop</li>
</ul>
Then transform the shape.
<ul>
<li>Select All</li>
<li>Tools/Transform/Perspective</li>
<li>Use Shift + to zoom in to a corner</li>
<li>Click and drag near the corner.</li>
<li>Do all 4 corners</li>
<li>Then do all 4 corners again</li>
<li>Press Transform in the Perspective dialog.</li>
<li>Image/Canvas Size</li>
<li>Image/Merge Visible Layers</li>
<li>Image/Crop to Content</li>
</ul>

</body>
</html>

